<!DOCTYPE html>
<html>

<head>
	<title>
		New Movie
	</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="/css/home_style.css" />
</head>

<body>
	<div th:replace="fragments/header :: header"></div>
	
	<h1>Aggiungi un film</h1>
	<form th:action="@{/admin/movies}" method="POST" th:object="${movie}" enctype="multipart/form-data">

		<div class="divInForm">
			<span th:text="${messaggioErrore}">Errore</span>
		</div>

		<div class="errorMessage" th:if="${erroreUpload}" th:text="${erroreUpload}">errore</div>
		
		<div class="divInForm">
			<label>Titolo del film:</label> <span><input required type="text" th:field="${movie.title}" id="titolo"/></span>
		</div>

		<div class="divInForm">
			<label>Anno di uscita:</label> <span><input required type="text" th:field="${movie.year}" id="anno"/></span>
		</div>

		<label>Scegli un regista:</label>
		<span th:unless="${directors}"> non ci sono artisti da poter scegliere</span>
		<select required th:field="${movie.director}" th:if="${directors}">
			<option th:each="director : ${directors}" th:value="${director.id}" th:text="${director.name} + ' ' + ${director.surname}"></option>
		</select>

		<label class="cursor-pointer text-light" for="modifyImage">
			<img class="img-fluid my-2 rounded-5 border border-2 border-primary px-0 shadow z-0 hover-dark" th:src= "${globalUser.getPicPath()}"/>
		</label>
		<input class="opacity-0 position-absolute" id="modifyImage" name="image" type="file" accept="image/*" onchange="form.submit()">
		
		<div class="divInForm">
			<span><button id="submitButton" type="submit">Conferma inserimento</button></span>
		</div>
	</form>
</body>

</html>